[Microsoft Certified: Azure Network Engineer Associate](https://learn.microsoft.com/en-us/credentials/certifications/azure-network-engineer-associate/?practice-assessment-type=certification)   

---

## Q03X:

---

### Answer:

---

### References

---

## Q033:

You plan to use Azure NAT Gateway to provide a consistent public IP address space to internal Azure resources.
The NAT Gateway needs to be configured with a Public IP address and a subnet.
What is the maximum number of Public IP addresses that you can assign to Azure NAT Gateway?

Choose the correct answer

- 16
- 12
- 2
- 1

---

### Answer:
16 

You can assign a maximum of 16 Public IP addresses to Azure NAT Gateway. Azure NAT Gateway provides an option to Azure internal resources with private IP addresses to access the internet. NAT Gateway can also be used to hide the internal network topology, which helps to protect the internal virtual resources from the attacks originating from the public internet. You can also assign a Public IP prefix to the NAT gateway; all the IPs from the prefix will be used by the gateway for the outbound internet connection. NAT Gateway uses a mechanism called Port Address Translation (PAT) to translate the internal private IP address and port to the outbound Public IP address and port number.

---

### References

[Manage a public IP address with a NAT gateway](https://learn.microsoft.com/en-us/azure/virtual-network/ip-services/configure-public-ip-nat-gateway)  

---

## Q032:

You plan to configure your application on Azure, but you want to hide the internal network. You decide to use Azure NAT Gateway.
For better performance of the application, you decide to assign a public IP address prefix to cover six public IP addresses. You name the public IP prefix PUBLIC_NAT_PREFIX.

Which of the following public IP prefixes should you choose?

Choose the correct answer

/31
/29
/28
/30

---

### Answer:
/29

You should use the /29 prefix for the six public IPv4 addresses. A /29 prefix will give you a total of eight IP addresses from which you can use six IP addresses for your public IP addressing need. You can either configure a single IPv4 public IP address or a complete IPv4 network prefix (which will comprise a set of IPv4 addresses) and then bind it to the Network Address Translation (NAT) gateway. The following public IP prefix sizes are available:

/28 (IPv4) or /124 (IPv6) = Total 16 addresses
/29 (IPv4) or /125 (IPv6) = Total 8 addresses
/30 (IPv4) or /126 (IPv6) = Total 4 addresses
/31 (IPv4) or /127 (IPv6) = Total 2 addresses

NAT functionality provides an option for Azure resources to communicate with the public internet without exposing their internal IP addresses. This provides an additional layer of security. Public internet users only see the NAT Gateway IP(s) and are not capable of retrieving any information regarding the internal network.

---

### References

[Public IP address prefix](https://learn.microsoft.com/en-us/azure/virtual-network/ip-services/public-ip-address-prefix)  

[Azure NAT Gateway resource](https://learn.microsoft.com/en-us/azure/nat-gateway/nat-gateway-resource)  

---

## Q031:

Your company has two Azure virtual networks (VNets), named VNET-1 and VNET-2. A Windows10 virtual machine (VM) is configured in each VNet, as shown in the exhibit. The Windows10 machine in VNET-1 can RDP the Windows10 machine in VNET-2 using its public IP address. However, the Windows10 machine in VNET-1 cannot RDP to the Windows 10 machine in VNET-2 using its private IP address.
You need to enable the VM in VNET-1 to access the VM in VNET-2, so they can access each other using Azure private subnet IPs.
What solution should you configure?
Choose the correct answer
Private endpoints
VNet peering
Network security groups (NSGs)
Service endpoints

---

### Answer:

You should configure virtual network (VNet) peering to allow VNET-1 to VNET-2 private connectivity. In a VNet peering set-up, the traffic flows via the Microsoft backbone private network instead of using the public internet.
You should not configure Azure private endpoints. Azure private endpoints can be used to connect to Azure services via a private IP interface. The private endpoints cannot be used to peer two VNets. The virtual machine connects through a private endpoint to a private link resource, which can be any Azure resource, like, for example, Cosmos DB, Azure Database for PostgreSQL, and Azure Service Bus.
You should not configure Azure service endpoints. Azure Service endpoints are used to connect to Azure services via an optimized path. The service endpoints cannot be used to peer two VNets. The virtual machine will use the public IP of the Azure service to communicate to it and the service will see only the private IP of the virtual machine. The virtual machines or resources do not need a public IP address to communicate with Azure services via a service endpoint.

You should not configure network security groups (NSGs). NSGs are used to secure the virtual resources on Azure. NSGs are not used to peer two VNets. Instead, they are used to protect Azure resources by configuring inbound and outbound rules to filter the traffic. The NSG is a stateful firewall; any outbound connection by default allows the reverse traffic for that connection flow.

---

### References

[Virtual Network service endpoints](https://learn.microsoft.com/en-us/azure/vpn-gateway/point-to-site-about)  

[Choosing between Azure VNet Peering and VNet Gateways](https://azure.microsoft.com/en-us/blog/vnet-peering-and-vpn-gateways/)  

[Transport Layer Security protocol](https://learn.microsoft.com/en-us/windows-server/security/tls/transport-layer-security-protocol)   

[The HTTPS protocol explained! — Under the Hood](https://anushadasari.medium.com/the-https-protocol-explained-under-the-hood-c7bd9f9aaa7b)  

---

## Q030:

![image info](./Q30_1.PNG)

Your company has two Azure virtual networks (VNets), named VNET-1 and VNET-2. A Windows10 virtual machine (VM) is configured in each VNet, as shown in the exhibit. The Windows10 machine in VNET-1 can RDP the Windows10 machine in VNET-2 using its public IP address. However, the Windows10 machine in VNET-1 cannot RDP to the Windows 10 machine in VNET-2 using its private IP address.
You need to enable the VM in VNET-1 to access the VM in VNET-2, so they can access each other using Azure private subnet IPs.

What solution should you configure?

Choose the correct answer

- Private endpoints
- VNet peering
- Network security groups (NSGs)
- Service endpoints

---

### Answer:
- VNet peering

You should configure virtual network (VNet) peering to allow VNET-1 to VNET-2 private connectivity. In a VNet peering set-up, the traffic flows via the Microsoft backbone private network instead of using the public internet.
You should not configure Azure private endpoints. Azure private endpoints can be used to connect to Azure services via a private IP interface. The private endpoints cannot be used to peer two VNets. The virtual machine connects through a private endpoint to a private link resource, which can be any Azure resource, like, for example, Cosmos DB, Azure Database for PostgreSQL, and Azure Service Bus.
You should not configure Azure service endpoints. Azure Service endpoints are used to connect to Azure services via an optimized path. The service endpoints cannot be used to peer two VNets. The virtual machine will use the public IP of the Azure service to communicate to it and the service will see only the private IP of the virtual machine. The virtual machines or resources do not need a public IP address to communicate with Azure services via a service endpoint.
You should not configure network security groups (NSGs). NSGs are used to secure the virtual resources on Azure. NSGs are not used to peer two VNets. Instead, they are used to protect Azure resources by configuring inbound and outbound rules to filter the traffic. The NSG is a stateful firewall; any outbound connection by default allows the reverse traffic for that connection flow.

---

### References

[Virtual Network service endpoints](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoints-overview)  

[Network security groups](https://learn.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview)  

[What is a private endpoint](https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview) 

[Tutorial: Connect virtual networks with virtual network peering using the Azure portal](https://learn.microsoft.com/en-us/azure/virtual-network/tutorial-connect-virtual-networks-portal)   

---

## Q029:

You work at a company that has an Azure subscription. You create a DNS zone so that your company can host its DNS domain within Azure DNS.
You retrieve the name servers of your created DNS zone.
You need to delegate the DNS domain.
For each of the following statements, select Yes if the statement is true. Otherwise, select No.


You should use the Azure name servers to substitute the Name Server (NS) records.
Yes

You should query the Start of Authority (SOA) record using the nslookup tool.
No

You should establish a test virtual machine.
No

---

### Answer:

You should use the Azure name servers to substitute the NS records to delegate the DNS domain. Delegating your domain is a required action to do so that you can host your Domain Name System (DNS) domain within Azure DNS. DNS zones are used by companies to host records of their companies' domain names.
You should not query the SOA record using the nslookup tool. This is done to verify whether the delegation to your domain is successfully done. You can use the nslookup command within the command prompt so that you can query the SOA record for the DNS zone you have created.
You should not establish a test virtual machine. This action will not allow you to delegate your DNS domain but would enable you to test if your private DNS zone is working properly.

---

### References

[Tutorial: Host your domain in Azure DNS](https://learn.microsoft.com/en-us/azure/dns/dns-delegate-domain-azure-dns)  

[Quickstart: Create an Azure private DNS zone using the Azure portal](https://learn.microsoft.com/en-us/azure/dns/private-dns-getstarted-portal)  

---

## Q028:

You plan to configure a 10.1.0.0/24 subnet under your VNet, which is configured with an address space of 10.1.0.0/16 for your web application.
You should only use non-reserved IP addresses in your solution so it does not conflict with Azure resources.

You need to identify which addresses from this subnet are reserved and cannot be used.
Which three addresses should you identify? Each correct answer presents a complete solution.

Choose the correct answers

- 10.1.0.230
- 10.1.0.0
- 10.1.0.255
- 10.1.0.1 
- 10.1.0.251

---

### Answer:

- 10.1.0.0
- 10.1.0.255
- 10.1.0.1 


The following addresses will be reserved from the subnet (10.1.0.0/24):

- 10.1.0.0 Network Address
- 10.1.0.1 Default Gateway Address
- 10.1.0.255 Broadcast Address

These addresses will not be allocated by Azure Dynamic host configuration protocol (DHCP) to any Azure virtual machine. By default, Azure will reserve five addresses from each subnet.

A few other addresses that will be reserved from a subnet are: x.x.x.2, x.x.x.3: Reserved by Azure to map the Azure DNS IPs to the virtual network (VNet) space.

The following are valid addresses and can be assigned to Azure virtual resources:

- 10.1.0.251
- 10.1.0.230

---

### References

[Azure Virtual Network frequently asked questions (FAQ)](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-faq)    

---

## Q027:

You plan to configure two Azure virtual networks: VNet1 and Vnet2.

| Vnet | Address space | Subnet assigned |
|---|---|---|
| VNet1 | 10.1.0.0/16 | 10.1.1.0/24 |
| VNet2 | 10.1.0.0/16 | 10.1.2.0/24 |


VNet1 is the Front web tier and will receive the incoming connections from the internet. It has virtual machine VM1 configured as a web server.
VNet2 is the Backend tier and will receive all the database connections from the front end web server. It has virtual machine VM2 configured as a database server.

The following table shows the virtual machine details and their corresponding private IP addresses:


| Virtual machine | Function | IP Address |
|---|---|---|
| VM1 | Web Server | 10.1.1.10 |
| VM2 | Database Server | 10.1.2.10 |

Network security groups (NSGs) in each virtual network are configured with the default RDP (3389) rule and
assigned to each virtual machine network interface.
For each of the following statements, select Yes if the statement is true. Otherwise, select No.


You can configure virtual network peering between VNet1 and VNet2.
No

Virtual machines in VNet1 are able to ping virtual machines in VNet2.
No

On initial creation, the subnet in VNet1 will be assigned the Default (Azure-provided) DNS servers.
Yes

---

### Answer:

You cannot configure virtual network peering between VNet1 and VNet2. You cannot configure virtual network peering for overlapping Classless Inter-Domain Routing (CIDR) blocks. In this scenario, both VNet1 and VNet2 have an address space of 10.1.0.0/16. Therefore, they cannot peer with each other.
Virtual machines in VNet1 are not able to ping virtual machines in VNet2. Both virtual networks are isolated, and therefore the resources inside these networks are not able to communicate with each other.
On initial creation, the subnet in VNet1 will be assigned the Default (Azure-provided) DNS servers. When you create a subnet, Azure will assign a default DNS server to it. These default DNS servers can be changed with custom DNS servers later on.

---

### References

[Azure Virtual Network concepts and best practices](https://learn.microsoft.com/en-us/azure/virtual-network/concepts-and-best-practices)  

[Name resolution for resources in Azure virtual networks](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances?tabs=redhat)  

[Virtual network peering](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview)  

---

## Q026:

You plan to migrate your organization domain name companyA.com from a third party domain registrar to Azure.
You must create the parent domain name entry on the Azure portal under the Domain Name System (DNS) zones named companyA.com.
What further action should you take to complete the domain name migration?

Choose the correct answer

- Update the Start of Authority (SOA) record for the parent domain name under Azure DNS zone with the third party domain registrar SOA details.

- Update the SOA record for the third party domain registrar with Azure DNS zone Start of Authority (SOA record) for the parent record.

- Update the parent domain registrar DNS name servers under the Azure DNS zone.

- Update the parent domain registrar DNS settings with the Azure DNS name servers.

---

### Answer:
- Update the parent domain registrar DNS settings with the Azure DNS name servers.

You should update the parent domain registrar Domain Name System (DNS) settings with the Azure DNS name servers. When you create the parent domain name entry under the Azure DNS zone, the following four Name Servers (NS) are assigned by default to the zone:

- Name server 1 ns1-35.azure-dns.com.
- Name server 2 ns2-35.azure-dns.net.
- Name server 3 ns3-35.azure-dns.org.
- Name server 4 ns4-35.azure-dns.info.

You will need to copy these four NS records to the third party registrar to complete the domain name migration to the Azure DNS zone. NS records are used to configure the authoritative DNS server detail that contains the actual domain information. You will always see these NS servers in Azure Public DNS zones and they cannot be deleted or edited. Should you like, additional name servers can be added.
You should not update the parent domain registrar DNS name servers under the Azure DNS zone. The domain is supposed to be delegated to the Azure DNS; therefore, there is no need to perform this configuration.
You should not update the Start of Authority (SOA) record for the third party domain registrar with Azure DNS zone SOA record for the parent record. This step is not required and you are not advised to modify the SOA information under the DNS settings.
You should not update the SOA record for the parent domain name under Azure DNS zone with the third party domain registrar SOA details. This step is not required. The SOA record is automatically populated by Azure when the parent domain zone is created. The SOA record defines the main NS for the domain name.

---

### References

[Tutorial: Host your domain in Azure DNS](https://learn.microsoft.com/en-us/azure/dns/dns-delegate-domain-azure-dns)  

---

## Q023-Q025:

You are one of four Azure administrators in your organization. You have deployed a web app in West Europe and configured it as a backend pool in Azure Front Door. Your co-workers have created a Web Application Firewall (WAF) policy and applied it to Azure Front Door. The rules engine has also been modified.
Users of the web app have recently complained that they are being presented with the following error message: "The request is blocked".

You need to promptly resolve this issue. The solution must not compromise security.

---

## Q025:

Solution: Remove the WAF policy from Azure Front Door.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not remove the WAF policy from Azure Front Door. Removing the WAF policy will restore traffic flow, but doing so will go against the compromising security requirement, as the web app will be exposed to security threats.

---

### References


[Policy settings for Web Application Firewall on Azure Front Door](https://learn.microsoft.com/en-us/azure/web-application-firewall/afds/waf-front-door-policy-settings)  

---

## Q024:

Solution: Verify that there are no conflicting rules in the WAF policy associated with Azure Front Door.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. You should verify that there are no conflicting rules in the WAF policy associated with Azure Front Door. Custom WAF rules take priority over Microsoft managed rules. Administrators can block incoming traffic to Azure Front Door using custom rules, based on conditions such as geolocation and IP address. If a blocked error message is presented, then it will be related to an Azure Front Door WAF policy.

---

### References

[Custom rules for Azure Web Application Firewall on Azure Front Door](https://learn.microsoft.com/en-us/azure/web-application-firewall/afds/waf-front-door-custom-rules)  


---

## Q023:

Solution: Verify that there are no conflicting rules in rules engine for Azure Front Door.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not verify that there are no conflicting rules in the rules engine for Azure Front Door. Rules engine can be used to provide a more granular control on how HTTP traffic is handled by Azure Front Door. For example, if a user is browsing on a mobile device, then a rule can be configured to re-direct users to a mobile friendly site. Rules engine will not, however, present users with blocked messages.

---

### References

[What is a rule set in Azure Front Door?](https://learn.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine?pivots=front-door-standard-premium)  

---

## Q020-Q022:

You are an Azure network administrator for a transport company. Azure Firewall has been deployed to filter traffic in a hub and spoke topology. The Azure Firewall rules are currently empty and require configuration.
Your colleague has requested external network connectivity for one of the application servers, which is in one of the spoke virtual networks (VNets).
You need to allow the application server to connect to www.company1.com using Azure Firewall and custom Domain Name System (DNS) servers.

---

## Q022:

Solution: create a DNAT (Destination Network Address Translation) rule collection AND THEN CREATE A dnat RULE.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Destination Network Address Translation (DNAT) rules allow users to connect to private IP addresses behind Azure Firewall via the public interface (IP address). A common scenario for this type of rule is for Remote Desktop Protocol (RDP) connections to an Azure virtual machine from the internet. For instance, a business need could surface that requires a third party support provider to connect to one of your Azure virtual machines over the internet using RDP. This would be needed so that the third party support provider could efficiently support the application that is running on the virtual machine and to hit any agreed Service Level Agreements (SLAs). All the third party would require is the public IP address in order to connect via RDP to the virtual machine from their headquarters.

---

### References

[Azure Firewall Policy rule sets](https://learn.microsoft.com/en-us/azure/firewall/policy-rule-sets)
[Filter inbound Internet traffic with Azure Firewall DNAT using the Azure portal](https://learn.microsoft.com/en-us/azure/firewall/tutorial-firewall-dnat)  


---

## Q021:

Solution: Add an application and network rule collection, and then create an application network rule.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. An application rule alone will not meet the requirement of the request. DNS connectivity on port 53 is also required, which must be configured as a network rule. As a result, you need to configure both an application and a network rule. During the network rule creation, you must map port 53 to the custom DNS servers.

---

### References

[Configure Azure Firewall rules](https://learn.microsoft.com/en-us/azure/firewall/rule-processing)  

[Deploy and configure Azure Firewall using the Azure portal](https://learn.microsoft.com/en-us/azure/firewall/tutorial-firewall-deploy-portal)  


---

## Q020:

Solution: Create an application rule collection, and then create an application rule.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. An application rule is based on Layer 7 of the Network OSI model. This will allow administrators to add a fully qualified domain name (FQDN) in the rule. For connectivity to www.company1.com to work, DNS on port 53 is also required, in the form of a network rule.

---

### References

[Azure Firewall Policy rule sets](https://learn.microsoft.com/en-us/azure/firewall/policy-rule-sets)  



--- 

## Q017-Q019:

You work as an Azure administrator for a clothing company. You have two virtual machines configured with the below network settings. Network Security Groups (NSGs) have been assigned to the individual virtual machine Network Interface Cards (NICs) with the default rules.

| VM Name | VNET | Subnet | NSG |
|---|---|---|---|
| VM01 | VNET1 | SN1 | NSG1 |
| VM02 | VNET1 | SN2 | NSG2 |

Your colleague needs to connect to VMO2 from VM01 using Remote Desktop Protocol (RDP) to test an application. You need to ensure that RDP access from VM01 to VMO2 will work.
The solution must not include any unnecessary administrative effort.

---

### References

[Network security groups](https://learn.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview) 

---

## Q019:

Solution: Do Nothing.

Does this solution meet the goal?

---

### Answer:
Yes


This solution meets the goal. You should do nothing. The Remote Desktop Protocol allows remote users to connect to another Microsoft Windows machine from another location. This can either be over the public internet or a local network. The AllowVNetInbound rule allows any traffic between virtual networks by default. This includes RDP connectivity between virtual machines.

---

### References

---

## Q018:

Solution: Create an inbound rule for port 3389 on NSG1 and NSG1.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not create inbound and outgoing rules for port 3389 on both NSG1 and NSG2. The Remote Desktop Protocol allows remote users to connect to another Microsoft Windows machine from another location. This can either be over the public internet or a local network. NSGs consist of a rule labelled AllowVNetInBound. This rule allows all hosts inside the virtual network (including subnets) to communicate with each other.

---

## Q017:


Solution: Create an inbound rule for port 3389 on NSG2.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not create an inbound rule for port 3389 on NSG2. The Remote Desktop Protocol allows remote users to connect to another Microsoft Windows machine from another location. This can either be over the public internet or a local network. An additional rule to explicitly allow RDP traffic is not required. This is due to the default Network Security Group (NSG) rules already permitting any traffic between virtual networks and virtual machines.

---

## Q014-Q016:

You work as an Azure administrator for a logistics company. You have an Azure subscription with the following resources:

| Resource Type | Resource Name | Azure Region |
|---|---|---|
| Virtual Network | Vnet1 | UK South |
| Virtual Machine | Vm1 | UK South |
| Storage Account | Storage1 | UK South |
| Storage Account | Storage2 | UK South |

You need to meet the following requirements:

- Vm1 needs to securely connect to Storage1 over the Azure backbone network.
- Resources in Vnet1 can only connect to Storage1 and no other storage accounts.

---

## Q016:


Solution: You deploy Azure Front Door and create a custom rules engine rule.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not deploy Azure Front Door and create a custom rules engine rule. Azure Front Door is a global Layer 7 load-balancing service. Layer 7 refers to the Application layer of the Open Systems Interconnect model (OSI model). This can be useful if you have a number of virtual machines in different regions. Azure Front Door can be used to direct traffic (load balance) to the most appropriate virtual machine based on the source region of the end user. This ensures that the end user is always connecting to the closest virtual machine. Azure Front Door can be further customized by adding custom rules using the rules engine. This would not apply in this scenario as Azure Front Door is a service that is accessible from the internet. A rules engine rule can be used to redirect users to a mobile friendly website if the source device is a mobile.

---

### References

[What is Azure Front Door?](https://learn.microsoft.com/en-us/azure/frontdoor/front-door-overview)  



---

## Q015:

Solution: You deploy a service endpoint and service endpoint policy.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. You should deploy a service endpoint and service endpoint policy. A service endpoint allows you to directly connect a subnet to a public Azure service such as storage accounts. This means that the virtual machine does not require an outbound connection to the internet, which is often a security concern. The relevant virtual network and subnet can then be associated to the storage account under the networking blade. This ensures that the first requirement is met, as Vm1 securely connects to the storage account over the Azure backbone network without making outgoing public calls via the internet. The secondary requirement is met by creating a service endpoint policy. If you create a service endpoint policy you can ensure that data exfiltration is not possible. For instance, during the service endpoint policy creation, you would need to ensure that you explicitly state that only Storage1 is accessible over the service endpoint. Access to other storage accounts will be denied from the subnet.

---

### References

[Virtual Network service endpoints](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoints-overview)  

[Virtual network service endpoint policies for Azure Storage](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoint-policies-overview)  

[Create, change, or delete service endpoint policy using the Azure portal](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoint-policies-portal)  

---

## Q014:

Solution: You deploy a private endpoint and Private Link service.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not deploy a private endpoint and Private Link service. A private endpoint allows you to completely isolate an Azure Platform as a Service (PaaS) service, such as a web app, so that it can only be contacted by an internal Azure resource. A private endpoint also allows traffic from on-premises networks to securely connect to the resource without traversing via the internet. This answer is not applicable for this scenario as the requirement does not state that private access from an on-premises network or virtual network is necessary. The scenario states that Vm1 needs to connect to Storage1 over the Azure backbone network only. For this reason, a private endpoint and private link service is an incorrect solution.

---

### References

[What is a private endpoint?](https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview)  

---

## Q010-013:

You are the Azure administrator in your organization. A virtual network (VNet) with three subnets has been deployed with three virtual machines. A Site-to-Site VPN tunnel was also configured to connect Azure to the on-premises data center.
You have received reports of latency issues between on-premises clients and the Azure virtual machines. You run Network Watcher VPN diagnostics.

You need to analyze the ingress and egress bytes for the VPN connection.

---

## Q013:

Solution: You configure and analyze Network Security Group Flow Logs.
Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. You should not configure and analyze Network Security Group (NSG) Flow Logs. Network Security Group flow logs is an optional feature that comes bundled with Network Watcher. These logs will allow you to analyze network traffic that passes through a Network Security Group. This diagnostic test does not apply to the requirement as it specifically requests ingress and egress bytes for the VPN tunnel. This specifically relates to all data that passes through a given Network Security Group. Analyzing the ingress and egress data can be useful to verify whether data is actually reaching the Network Security Group in the first place.

---

### References

[Configuring Network Security Group Flow logs with PowerShell](https://learn.microsoft.com/en-us/azure/network-watcher/nsg-flow-logs-powershell)  

---

## Q012:

Solution: From Network Watcher, inspect the Connectiontats.txt file.
Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. From Network Watcher, you should inspect the 'ConnectionStats.txt' file. When you troubleshoot VPN connectivity, this file will contain statistics for the connection, which includes ingress and egress byte data.

---

### References


[Introduction to resource troubleshooting in Azure Network Watcher](https://learn.microsoft.com/en-us/azure/network-watcher/vpn-troubleshoot-overview)  

---

## Q011:

Solution: From Network Watcher, inspect the CPUStats.txt file.
Does this solution meet the goal?

---

### Answer:
No

---

### References

[Introduction to resource troubleshooting in Azure Network Watcher](https://learn.microsoft.com/en-us/azure/network-watcher/vpn-troubleshoot-overview)  

---

## Q010:

Solution: From Network Watcher, inspect the IKEErrors.txt file.
Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. From Network Watcher, you should not inspect the 'IKEErrors.txt' file. This file will only report issues and errors relating to the Internet Key Exchange (IKE) component of the VPN tunnel. The IKE process allows VPN peers at both ends to successfully encrypt and decrypt network packets traveling over the VPN tunnel, using a mutually agreed pre-shared key or certificate. This process consists of two phases: phase 1 and phase 2. Each phase uses encryption algorithms and keys. The IKEErrors.txt file will list any issues encountered during either phase initiation.

---

### References

[Introduction to resource troubleshooting in Azure Network Watcher](https://learn.microsoft.com/en-us/azure/network-watcher/vpn-troubleshoot-overview)  

---

## Q007-009:


![image info](./Q7_1.PNG)

Your company has the Azure environment shown in the Network Architecture exhibit.
The North US Windows user and the North US IOS user can only access VnetA.
You need to implement a solution that enables both users to access VnetB.

---

### References

[What is Azure Network Watcher?](https://learn.microsoft.com/en-us/azure/network-watcher/network-watcher-overview)  

[About BGP and VPN Gateway](https://learn.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-bgp-overview)  

[How to configure BGP for Azure VPN Gateway](https://learn.microsoft.com/en-us/azure/vpn-gateway/bgp-howto)  

[About Point-to-Site VPN routing](https://learn.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-about-point-to-site-routing)  

---

## Q009:

Solution: re-download the VPN client configuration fpr the North US Windows user and the North US IOS user.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Downloading the VPN client configuration for users should only be done if the topology of a network is modified so that the changes of the topology can be implemented again to the client.

---

## Q008:

Solution: You use BGP on the gateway of VnetA.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. The Border Gateway Protocol (BGP) is the routing protocol for exchanging routing and reachability information between networks. When this protocol is used within VNets, it enables your Virtual Private Network (VPN) devices to exchange routes with your VPN gateways. BGP will tell the VPN gateways that the prefixes of the VPN devices are allowed to go through them.

---

## Q007:

Solution: Configure Azure Network Watcher

Does this solution meet the goal?

---

### Answer:
No

The solution does not meet the goal. Azure Network Watcher service enables you to monitor conditions at a network level in and from Azure. Configuring Azure Network Watcher will not allow both users to access VnetB.

---

### References

---

## Q004-006:


Your company has a virtual network VNet1 configured as shown in the exhibit with an address space of 10.1.0.0/16.
There are three subnets inside this virtual network:

• 10.1.1.0/24
• 10.1.2.0/24
• 10.1.3.0/24

The following resources are configured under these subnets:

| Virtual Machine | IP Address |
|-----------------|------------|
| VM1 | 10.1.1.9 |
| Proxy-VM | 10.1.2.9 |
| Backend Database | 10.1.3.9 |


No custom route table is attached to any of the subnets.
The VM1 is the front end server, where all the initial requests will be received from the public Internet users. The backend database is only reachable via the Proxy-VM.
VM1 wants to reach the backend database, but all the requests should proxy through the Proxy-VM configured in the subnet 10.1.2.0/24.

---

### References

[Network security groups](https://learn.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview)  

[Virtual network traffic routing](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-udr-overview)  

---

## Q006:

Solution: In order to relay all the traffic from VM1 via Proxy-VM, you enable the IP forwarding on the Proxy- VM virtual machine Virtual Network Interface under the IP configuration. You also configure a custom route table and attach it to the VM1 subnet. The route table is configured to route all the traffic to IP address 10.1.2.9/32 as the next hop address and the route type set to virtual appliance.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. You should enable the IP forwarding on the Proxy-VM virtual machine Virtual Network Interface under the IP configuration. You should also configure a custom route table and attach it to VM1 subnet. The route table should be configured to route all the traffic to IP address 10.1.2.9/32 as the next hop address and route type set to virtual appliance. With this set-up in place, all the traffic from VM1 will be routed to Proxy-VM, which will be then forwarded to the next hop as per the IP packet destination IP address


---

## Q005:

Solution: In order to relay all the traffic from VM1 via Proxy-VM, you create a Network Security Group (NSG), which allows the traffic from VM1 subnet to the Backend Database subnet.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Simply creating a Network Security Group (NSG) to allow traffic from VM1 subnet to the Backend Database subnet will not help in relaying the traffic via the Proxy-VM. The NSG is used to configure different security rules for the inbound and the outbound traffic, and you can associate a subnet or a network interface to it.

---

## Q004:

Solution: In order to relay all the traffic from VM1 via Proxy-VM, you enable IP Forwarding on the Backend database virtual machine, Virtual Network Interface.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Simply enabling the IP forwarding on the Backend Database virtual machine Virtual Network Interface will not force the VM1 to send all its traffic to Proxy-VM.

---

## Q001-003:

![image info](./Q1_1.PNG)
![image info](./Q1_2.PNG)
![image info](./Q1_3.PNG)


You have a private DNS Zone named az700.practice.com. You have two VNets, each running a Windows 10 virtual machine:

• Windows10 in Vnet1
• Windows10-2 in Vnet2

Each virtual machine only has private IP addresses. Refer to exhibits 1, 2, 3 and the table below for current
set-up details.

![image info](./Q1_0.PNG)

You discover that Windows10 in VNet1 cannot communicate with Windows10-2 in VNet2 using domain names.

You need to ensure that both virtual machines can communicate with each other using their corresponding private domain names.

---

### References

[Virtual network peering](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview)  

---


## Q003:

Solution: You create two virtual network links with the private DNS Zone for VNet1 and VNet2 with auto registration set to Enabled. Additionally, you assign a public IP address to each virtual machine network interface.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Just creating two virtual network links with the private DNS Zone for VNet1 and VNet2 with auto registration set to Enabled will not enable communication between the two virtual machines. Moreover, assigning public IP addresses to each virtual machine network interfaces will not help to enable communication between the virtual machines by using their private domain names. The public IP may help in accessing the virtual machine via the public internet, but it will not help in the private domain name resolution and reachability between the two virtual machines.

---

## Q002:

Solution: You create two virtual network links with the private DNS Zone for VNet1 and VNet2. Additionally, you also configure peering between VNet1 and VNet2.

Does this solution meet the goal?

---

### Answer:
Yes

This solution meets the goal. In order to enable inter-VNet communication, you need to configure virtual network peering between VNet1 and VNet2. The virtual network links with the private DNS Zone for VNet1 and VNet2 will enable hostname registration with the private zone. Once the virtual machine is created, the private IP will be automatically registered against the hostname in the private zone. To ensure actual connectivity between the virtual machines in different VNets, you need to configure peering between them.

---

## Q001:

Solution: 
You create two virtual network links with the private DNS Zone for VNet1 and VNet2 with auto registration set to Enabled.

Does this solution meet the goal?

---

### Answer:
No

This solution does not meet the goal. Just creating two virtual network links with the private DNS Zone for VNet1 and VNet2 with auto registration set to Enabled will not enable the communication between the two virtual machines. With this configuration, the hostname of the virtual machine will be automatically added to the private DNS Zone if the VM is spin up inside VNet1 or VNet2.

---